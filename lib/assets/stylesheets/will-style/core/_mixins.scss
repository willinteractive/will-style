
//
// MIXINS
//

// CUSTOM
// -------------------

// use this on an empty div just before an element you want to look like as being full-height
// then add the background or border you need
// **the div should also have the same column classes as the element
//
@mixin full-height($is-app-nav-private: false) {
	@if $is-app-nav-private {
		position: fixed;
	}
	@else {
		position: absolute;
	}

	top: 0;
	left: 0;
	bottom: 0;
	z-index: -1;
}

// FROM COMPASS
// -------------------

@mixin stretch($offset-top: 0, $offset-right: 0, $offset-bottom: 0, $offset-left: 0) {
	position: absolute;
	@if $offset-top {
		top: $offset-top;
	}
	@if $offset-bottom {
		bottom: $offset-bottom;
	}
	@if $offset-left {
		left: $offset-left;
	}
	@if $offset-right {
		right: $offset-right;
	}
}

// FROM BOOTSTRAP
// -------------------

// input placeholder styles
@mixin placeholder($color: $secondary-color) {
	&::-moz-placeholder           { color: $color;   // Firefox
									font-style: italic;
									opacity: 1; } // See https://github.com/twbs/bootstrap/pull/11526
	&:-ms-input-placeholder       { color: $color; font-style: italic; } // Internet Explorer 10+
	&::-webkit-input-placeholder  { color: $color; font-style: italic; } // Safari and Chrome
}

// Gradients

// Horizontal gradient, from left to right
//
// Creates two color stops, start and end, by specifying a color and position for each color stop.
// Color stops are not available in IE9 and below.
@mixin gradient-horizontal($start-color: #555, $end-color: #333, $start-percent: 0%, $end-percent: 100%) {
	background-image: -webkit-linear-gradient(left, $start-color $start-percent, $end-color $end-percent); // Safari 5.1-6, Chrome 10+
	background-image: -o-linear-gradient(left, $start-color $start-percent, $end-color $end-percent); // Opera 12
	background-image: linear-gradient(to right, $start-color $start-percent, $end-color $end-percent); // Standard, IE10, Firefox 16+, Opera 12.10+, Safari 7+, Chrome 26+
	background-repeat: repeat-x;
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#{ie-hex-str($start-color)}', endColorstr='#{ie-hex-str($end-color)}', GradientType=1); // IE9 and down
}

// Vertical gradient, from top to bottom
//
// Creates two color stops, start and end, by specifying a color and position for each color stop.
// Color stops are not available in IE9 and below.
@mixin gradient-vertical($start-color: #555, $end-color: #333, $start-percent: 0%, $end-percent: 100%) {
	background-image: -webkit-linear-gradient(top, $start-color $start-percent, $end-color $end-percent);  // Safari 5.1-6, Chrome 10+
	background-image: -o-linear-gradient(top, $start-color $start-percent, $end-color $end-percent);  // Opera 12
	background-image: linear-gradient(to bottom, $start-color $start-percent, $end-color $end-percent); // Standard, IE10, Firefox 16+, Opera 12.10+, Safari 7+, Chrome 26+
	background-repeat: repeat-x;
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#{ie-hex-str($start-color)}', endColorstr='#{ie-hex-str($end-color)}', GradientType=0); // IE9 and down
}

@mixin gradient-directional($start-color: #555, $end-color: #333, $deg: 45deg) {
	background-repeat: repeat-x;
	background-image: -webkit-linear-gradient($deg, $start-color, $end-color); // Safari 5.1-6, Chrome 10+
	background-image: -o-linear-gradient($deg, $start-color, $end-color); // Opera 12
	background-image: linear-gradient($deg, $start-color, $end-color); // Standard, IE10, Firefox 16+, Opera 12.10+, Safari 7+, Chrome 26+
}
@mixin gradient-horizontal-three-colors($start-color: #00b3ee, $mid-color: #7a43b6, $color-stop: 50%, $end-color: #c3325f) {
	background-image: -webkit-linear-gradient(left, $start-color, $mid-color $color-stop, $end-color);
	background-image: -o-linear-gradient(left, $start-color, $mid-color $color-stop, $end-color);
	background-image: linear-gradient(to right, $start-color, $mid-color $color-stop, $end-color);
	background-repeat: no-repeat;
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#{ie-hex-str($start-color)}', endColorstr='#{ie-hex-str($end-color)}', GradientType=1); // IE9 and down, gets no color-stop at all for proper fallback
}
@mixin gradient-vertical-three-colors($start-color: #00b3ee, $mid-color: #7a43b6, $color-stop: 50%, $end-color: #c3325f) {
	background-image: -webkit-linear-gradient($start-color, $mid-color $color-stop, $end-color);
	background-image: -o-linear-gradient($start-color, $mid-color $color-stop, $end-color);
	background-image: linear-gradient($start-color, $mid-color $color-stop, $end-color);
	background-repeat: no-repeat;
	filter: progid:DXImageTransform.Microsoft.gradient(startColorstr='#{ie-hex-str($start-color)}', endColorstr='#{ie-hex-str($end-color)}', GradientType=0); // IE9 and down, gets no color-stop at all for proper fallback
}
@mixin gradient-radial($inner-color: #555, $outer-color: #333) {
	background-image: -webkit-radial-gradient(circle, $inner-color, $outer-color);
	background-image: radial-gradient(circle, $inner-color, $outer-color);
	background-repeat: no-repeat;
}
@mixin gradient-striped($color: rgba(255,255,255,.15), $angle: 45deg) {
	background-image: -webkit-linear-gradient($angle, $color 25%, transparent 25%, transparent 50%, $color 50%, $color 75%, transparent 75%, transparent);
	background-image: -o-linear-gradient($angle, $color 25%, transparent 25%, transparent 50%, $color 50%, $color 75%, transparent 75%, transparent);
	background-image: linear-gradient($angle, $color 25%, transparent 25%, transparent 50%, $color 50%, $color 75%, transparent 75%, transparent);
}

// FROM WSK
// -------------------
//
// SHADOWS
//

@mixin shadow-z1() {
	box-shadow: 0 1px 1.5px 0 rgba(0,0,0,0.12), 0 1px 1px 0 rgba(0,0,0,0.24);
}
@mixin shadow-z2() {
	box-shadow: 0 2px 5px 0 rgba(0,0,0,0.16), 0 2px 5px 0 rgba(0,0,0,0.23);
}
@mixin shadow-z3() {
	box-shadow: 0 10px 10px 0 rgba(0,0,0,0.19), 0 6px 3px 0 rgba(0,0,0,0.23);
}
@mixin shadow-z4() {
	box-shadow: 0 14px 14px 0 rgba(0,0,0,0.25), 0 10px 5px 0 rgba(0,0,0,0.22);
}
@mixin shadow-z5() {
	box-shadow: 0 19px 19px 0 rgba(0,0,0,0.30), 0 15px 6px 0 rgba(0,0,0,0.22);
}
@mixin shadow-inset() {
	box-shadow: inset 0 3px 7px -2px rgba(0,0,0,0.24), inset 0 3px 7px -2px rgba(0,0,0,0.36);
}
@mixin shadow-inset-small() {
	box-shadow: inset 0 1px 5px -1px rgba(0,0,0,0.24);
}

//
// ANIMATION
//

$animation-curve-fast-out-slow-in: cubic-bezier(0.4, 0, 0.2, 1);
$animation-curve-linear-out-slow-in: cubic-bezier(0, 0, 0.2, 1);
$animation-curve-fast-out-linear-in: cubic-bezier(0.4, 0, 1, 1);

$animation-curve-default: $animation-curve-fast-out-slow-in;

@mixin material-animation-fast-out-slow-in($duration:0.2s) {
	transition-duration: $duration;
	transition-timing-function: $animation-curve-fast-out-slow-in;
}

@mixin material-animation-linear-out-slow-in($duration:0.2s) {
	transition-duration: $duration;
	transition-timing-function: $animation-curve-linear-out-slow-in;
}

@mixin material-animation-fast-out-linear-in($duration:0.2s) {
	transition-duration: $duration;
	transition-timing-function: $animation-curve-fast-out-linear-in;
}

@mixin material-animation-default($duration:0.2s) {
	transition-duration: $duration;
	transition-timing-function: $animation-curve-default;
}

// Blocked Text and buttons

@mixin blocked-text($border-color: $body-font-color) {
	// use condensed font-family for h1
	text-transform: uppercase;

	// add a span around text if you want a border
	span, input {
		background: none;

		// This allows us to set even padding for spacing
		line-height: 1;

		padding: 2rem 6rem;

		border: 3px solid $border-color;

		// make sure the border doesn't break when the line does
		display: inline-block;

		// reduce padding on collapsed

		// reduce padding on small screens to prevent word wrap
		@media #{$small-only} {
			padding: 1rem 2rem;
		}
	}

	&.collapsed span {
		padding: 2rem;
	}

	input {
		width: 100%;
	}
}

@mixin blocked-button($color: $primary-color) {
	span,
	input {
		cursor: pointer;
		overflow: hidden;

		background-image: linear-gradient(315deg, $color 0%, $color 50%, transparent 50%);
		background-size: 202% 200%;
		background-position: 0% 0%;

		will-change: background-position;
		will-change: color;

		color: $color;

		transition: color .2s 0s ease-in,
					background-position .2s 0s ease-in;

		//
		// Hover States
		//

		html.no-touch &:hover,
		html.no-touch &:focus {
			transition: color .2s .2s ease-out,
						background-position .2s 0s ease-in;

			color: #fff;

			background-position: 90% 90%;
		}

		//
		// Selected States
		//

		html.no-touch &:active,
		html.no-touch &.selected,
		html.touch &:focus {
			transition: color .2s 0s ease-in,
						background-position .05s 0s ease-in;

			color: #fff;
			
			.blocked-button.dark &,
			.blocked-button.light & {
				color: $theme-grey;
			}

			background-position: 99% 100%;

			border-right: 2px solid $color;
		}

		&:disabled {
			background: none !important;
			color: $color !important;
			cursor: not-allowed;
			opacity: .6;
		}

		//
		// IE9 Fallback States
		//

		html.no-cssanimations & {
			background-image: none !important;
			background-size: 100% 100% !important;

			&:hover,
			&:focus,
			&.selected {
				background-color: $color;
			}
		}
	}

	&.dark {
		span,
		input {
			&:hover,
			&:focus,
			&:active,
			&.selected {
				color: $theme-grey !important;
			}
		}
	}

	&.dark,
	&.light {
		span,
		input {
			&:hover,
			&:focus,
			&:active,
			&.selected {
				color: $primary-color !important;
			}
		}
	}
}


//
// Animated Links

@mixin animated-link($color: $primary-color, $max-width: 100px) {
	position: relative;
	transition: color .2s;

	&:after {
		content: "";
		position: absolute;
		bottom: 0;
		left: 0;
		width: 100%;

		border-bottom: 1px solid $color;
		transition: transform .4s ease-out;

		transform: scaleX(0);
		transform-origin: center right;
	}

	&:hover,
	&:focus {
		&:after {
			transform: scaleX(1);
		}
	}
}