@import "compass/css3/box-sizing";
@import "compass/css3/transform";
@import "compass/css3/transition";

*,
*:after,
*::before {
	@include box-sizing(border-box);
}

html,
body,
.sidebar-container,
.sidebar-pusher,
.sidebar-content {
	height: 100%;
}

.sidebar-content {
	overflow-y: scroll;
	background: $body-bg;
}

.sidebar-content,
.sidebar-content-inner {
	position: relative;
}

.sidebar-container {
	position: relative;
	overflow: hidden;
}

.sidebar-pusher {
	position: relative;
	left: 0;
	z-index: 99;
	height: 100%;

	@include transition(transform 0.5s);
}

.sidebar-pusher::after {
	position: absolute;
	top: 0;
	right: 0;
	width: 0;
	height: 0;
	background: rgba(0,0,0,0.2);
	content: '';
	opacity: 0;

	@include transition(opacity 0.5s, width 0.1s 0.5s, height 0.1s 0.5s);
}

.sidebar-menu-open .sidebar-pusher::after {
	width: 100%;
	height: 100%;
	opacity: 1;

	@include transition(opacity 0.5s);
}

.sidebar-menu {
	position: absolute;
	top: 0;
	left: 0;
	z-index: 100;
	visibility: hidden;
	height: 100%;
	width: 300px;
	background: $body-bg;

	@include transition(all 0.5s);
}

.sidebar-menu::after {
	position: absolute;
	top: 0;
	right: 0;
	width: 100%;
	height: 100%;
	background: rgba(0,0,0,0.2);
	content: '';
	opacity: 1;

	@include transition(opacity 0.5s);
}

.sidebar-menu-open .sidebar-menu::after {
	width: 0;
	height: 0;
	opacity: 0;

	@include transition(opacity 0.5s, width 0.1s 0.5s, height 0.1s 0.5s);
}

/* Individual effects */

/* Effect 1: Slide in on top */

.sidebar-effect-slide.sidebar-menu {
	visibility: visible;
	
	@include transform(translate3d(-100%, 0, 0));
}

.sidebar-effect-slide.sidebar-menu-open .sidebar-effect-slide.sidebar-menu {
	visibility: visible;

	@include transform(translate3d(0, 0, 0));
}

.sidebar-effect-slide.sidebar-menu::after {
	display: none;
}

/* Effect 2: Reveal */

.sidebar-effect-reveal.sidebar-menu-open .sidebar-pusher {
	@include transform(translate3d(300px, 0, 0));
}

.sidebar-effect-reveal.sidebar-menu {
	z-index: 1;
}

.sidebar-effect-reveal.sidebar-menu-open .sidebar-effect-reveal.sidebar-menu {
	visibility: visible;

	@include transition-property(transform 0.5s);
}

.sidebar-effect-reveal.sidebar-menu::after {
	display: none;
}

/* Effect 3: Push */

.sidebar-effect-push.sidebar-menu-open .sidebar-pusher {
	@include transform(translate3d(300px, 0, 0));
}

.sidebar-effect-push.sidebar-menu {
	@include transform(translate3d(-100%, 0, 0));
}

.sidebar-effect-push.sidebar-menu-open .sidebar-effect-push.sidebar-menu {
	visibility: visible;

	@include transition-property(transform 0.5s);
}

.sidebar-effect-push.sidebar-menu::after {
	display: none;
}

/* Effect 4: Slide along */

.sidebar-effect-slide-along.sidebar-menu-open .sidebar-pusher {
	@include transform(translate3d(300px, 0, 0));
}

.sidebar-effect-slide-along.sidebar-menu {
	z-index: 1;

	@include transform(translate3d(-50%, 0, 0));
}

.sidebar-effect-slide-along.sidebar-menu-open .sidebar-effect-slide-along.sidebar-menu {
	visibility: visible;

	@include transition-property(transform 0.5s);
	@include transform(translate3d(0, 0, 0));
}

.sidebar-effect-slide-along.sidebar-menu::after {
	display: none;
}

/* Effect 5: Reverse slide out */

.sidebar-effect-reverse-slide-out.sidebar-menu-open .sidebar-pusher {
	@include transform(translate3d(300px, 0, 0));
}

.sidebar-effect-reverse-slide-out.sidebar-menu {
	z-index: 1;

	@include transform(translate3d(50%, 0, 0));
}

.sidebar-effect-reverse-slide-out.sidebar-menu-open .sidebar-effect-reverse-slide-out.sidebar-menu {
	visibility: visible;

	@include transition-property(transform 0.5s);
	@include transform(translate3d(0, 0, 0));
}

/* Effect 6: Rotate pusher */

.sidebar-effect-rotate.sidebar-container {
	@include perspective(1500px);
}

.sidebar-effect-rotate .sidebar-pusher {
	@include transform-origin(0%, 50%);
	@include transform-style(preserve-3d);
}

.sidebar-effect-rotate.sidebar-menu-open .sidebar-pusher {
	@include transform(translate3d(300px, 0, 0) rotateY(-15deg));
}

.sidebar-effect-rotate.sidebar-menu {
	@include transform(translate3d(-100%, 0, 0));
	@include transform-origin(100%, 50%);
	@include transform-style(preserve-3d);
}

.sidebar-effect-rotate.sidebar-menu-open .sidebar-effect-rotate.sidebar-menu {
	visibility: visible;

	@include transition-property(transform 0.5s);
	@include transform(translate3d(-100%, 0, 0) rotateY(15deg));
}

.sidebar-effect-rotate.sidebar-menu::after {
	display: none;
}

/* Effect 7: 3D rotate in */

.sidebar-effect-3d-rotate-in.sidebar-container {
	@include perspective(1500px);
	@include perspective-origin(0% 50%);
}

.sidebar-effect-3d-rotate-in .sidebar-pusher {
	@include transform-style(preserve-3d);
}

.sidebar-effect-3d-rotate-in.sidebar-menu-open .sidebar-pusher {
	@include transform(translate3d(300px, 0, 0));
}

.sidebar-effect-3d-rotate-in.sidebar-menu {
	@include transform(translate3d(-100%, 0, 0) rotateY(-90deg));
	@include transform-origin(100%, 50%);
	@include transform-style(preserve-3d);
}

.sidebar-effect-3d-rotate-in.sidebar-menu-open .sidebar-effect-3d-rotate-in.sidebar-menu {
	visibility: visible;

	@include transition-property(transform 0.5s);
	@include transform(translate3d(-100%, 0, 0) rotateY(0deg));
}

/* Effect 8: 3D rotate out */

.sidebar-effect-3d-rotate-out.sidebar-container {
	@include perspective(1500px);
	@include perspective-origin(0% 50%);
}

.sidebar-effect-3d-rotate-out .sidebar-pusher {
	@include transform-style(preserve-3d);
}

.sidebar-effect-3d-rotate-out.sidebar-menu-open .sidebar-pusher {
	@include transform(translate3d(300px, 0, 0));
}

.sidebar-effect-3d-rotate-out.sidebar-menu {
	@include transform(translate3d(-100%, 0, 0) rotateY(90deg));
	@include transform-origin(100%, 50%);
	@include transform-style(preserve-3d);
}

.sidebar-effect-3d-rotate-out.sidebar-menu-open .sidebar-effect-3d-rotate-out.sidebar-menu {
	visibility: visible;

	@include transition-property(transform 0.5s);
	@include transform(translate3d(-100%, 0, 0) rotateY(0deg));
}

.sidebar-effect-3d-rotate-out.sidebar-menu::after {
	display: none;
}

/* Effect 9: Scale down pusher */

.sidebar-effect-scale-down.sidebar-container {
	@include perspective(1500px);
}

.sidebar-effect-scale-down .sidebar-pusher {
	@include transform-style(preserve-3d);
}

.sidebar-effect-scale-down.sidebar-menu-open .sidebar-pusher {
	@include transform(translate3d(0, 0, -300px));
}

.sidebar-effect-scale-down.sidebar-menu {
	opacity: 1;

	@include transform(translate3d(-100%, 0, 0));
}

.sidebar-effect-scale-down.sidebar-menu-open .sidebar-effect-scale-down.sidebar-menu {
	visibility: visible;

	@include transition-property(transform 0.5s);
	@include transform(translate3d(0, 0, 0));
}

.sidebar-effect-scale-down.sidebar-menu::after {
	display: none;
}

/* Effect 10: Scale up */

.sidebar-effect-scale-up.sidebar-container {
	@include perspective(1500px);
	@include perspective-origin(0% 50%);
}

.sidebar-effect-scale-up.sidebar-menu-open .sidebar-pusher {
	@include transform(translate3d(300px, 0, 0));
}

.sidebar-effect-scale-up.sidebar-menu {
	z-index: 1;
	opacity: 1;

	@include transform(translate3d(0, 0, -300px));
}

.sidebar-effect-scale-up.sidebar-menu-open .sidebar-effect-scale-up.sidebar-menu {
	visibility: visible;

	@include transition-property(transform 0.5s);
	@include transform(translate3d(0, 0, 0));
}

/* Effect 11: Scale and rotate pusher */

.sidebar-effect-scale-and-rotate.sidebar-container {
	@include perspective(1500px);
}

.sidebar-effect-scale-and-rotate .sidebar-pusher {
	@include transform-style(preserve-3d);
}

.sidebar-effect-scale-and-rotate.sidebar-menu-open .sidebar-pusher {
	@include transform(translate3d(100px, 0, -600px) rotateY(-20deg));
}

.sidebar-effect-scale-and-rotate.sidebar-menu {
	opacity: 1;

	@include transform(translate3d(-100%, 0, 0));
}

.sidebar-effect-scale-and-rotate.sidebar-menu-open .sidebar-effect-scale-and-rotate.sidebar-menu {
	visibility: visible;

	@include transition-property(transform 0.5s);
	@include transform(translate3d(0, 0, 0));
}

.sidebar-effect-scale-and-rotate.sidebar-menu::after {
	display: none;
}

/* Effect 12: Open door */

.sidebar-effect-open-door.sidebar-container {
	@include perspective(1500px);
}

.sidebar-effect-open-door .sidebar-pusher {
	@include transform-origin(100%, 50%);
	@include transform-style(preserve-3d);
}

.sidebar-effect-open-door.sidebar-menu-open .sidebar-pusher {
	@include transform(rotateY(-10deg));
}

.sidebar-effect-open-door.sidebar-menu {
	opacity: 1;

	@include transform(translate3d(-100%, 0, 0));
}

.sidebar-effect-open-door.sidebar-menu-open .sidebar-effect-open-door.sidebar-menu {
	visibility: visible;

	@include transition-property(transform 0.5s);
	@include transform(translate3d(0, 0, 0));
}

.sidebar-effect-open-door.sidebar-menu::after {
	display: none;
}

/* Effect 13: Fall down */

.sidebar-effect-fall-down.sidebar-container {
	@include perspective(1500);
	@include perspective-origin(0% 50%);
}

.sidebar-effect-fall-down.sidebar-menu-open .sidebar-pusher {
	@include transform(translate3d(300px, 0, 0));
}

.sidebar-effect-fall-down.sidebar-menu {
	z-index: 1;
	opacity: 1;

	@include transform(translate3d(0, -100%, 0));
}

.sidebar-effect-fall-down.sidebar-menu-open .sidebar-effect-fall-down.sidebar-menu {
	visibility: visible;

	@include transition-timing-function(ease-in-out);
	@include transition-property(transform);
	@include transform(translate3d(0, 0, 0));
}

/* Effect 14: Delayed 3D rotate */

.sidebar-effect-delayed-3d-rotate.sidebar-container {
	@include perspective(1500);
	@include perspective-origin(0% 50%);
}

.sidebar-effect-delayed-3d-rotate .sidebar-pusher {
	@include transform-style(preserve-3d);
}

.sidebar-effect-delayed-3d-rotate.sidebar-menu-open .sidebar-pusher {
	@include transform(translate3d(300px, 0, 0));
}

.sidebar-effect-delayed-3d-rotate.sidebar-menu {
	@include transform(translate3d(-100%, 0, 0) rotateY(90deg));
	@include transform-origin(0%, 50%);
	@include transform-style(preserve-3d);
}

.sidebar-effect-delayed-3d-rotate.sidebar-menu-open .sidebar-effect-delayed-3d-rotate.sidebar-menu {
	visibility: visible;

	@include transition-delay(0.1s);
	@include transition-timing-function(ease-in-out);
	@include transition-property(transform);
	@include transform(translate3d(-100%, 0, 0) rotateY(0deg));
}

/* Fallback example for browsers that don't support 3D transforms (and no JS fallback) */
.no-csstransforms3d .sidebar-pusher,
.no-js .sidebar-pusher {
	//padding-left: 300px;
}
