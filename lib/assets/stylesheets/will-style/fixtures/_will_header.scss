@import "compass/css3/box-sizing";
@import "compass/css3/transform";
@import "compass/css3/transition";

@import  "will-style/fixtures/top-bar";

/* WILL Header */

#will-header {
	position: fixed;
	top: 0px;
	left: 0px;
	right: 0px;
	z-index: 999;

	@include transform(translateY(0%));
	@include transition(all 0.5s);
}

/* LOGO */

// aligning image text inside .title-area
#will-header img, #will-header svg {
	vertical-align: middle;
}

// show svg if supported, if not, show image
#will-header svg {
	display: none;
	visibility: hidden;
}

.inlinesvg {
	#will-header img {
		display: none;
		visibility: hidden;
	}
	
	#will-header svg {
		display: inline-block;
		visibility: visible;
	}
}

// The vector (SVG) logo
#will-logo-svg {
	width: 61px;
	height: 20px;
	
	@media #{$topbar-media-query} {
		// The vector (SVG) logo
		#will-logo-svg {
			width: 98px;
			height: 32px;
		}
	}
}

/* NAVIGATION */

#will-header {
	h1,
	h1::before,
	h1 span,
	nav,
	nav::before {
		display: inline-block;
		vertical-align: middle;
		text-align: left;
	}

	h1 {
		font-weight: 300;
		font-size: 3.2em;
		margin: 0;
		padding: 0 1em 0 0;
		cursor: default;
		height: 100%;
		z-index: 1;
		@include transition(all 0.5s);
	}

	h1::before,
	nav::before {
		content: '';
		height: 100%;
	}

	h1::after {
		content: '';
		width: 100px;
		height: 96px;
		background: #fff;
		position: absolute;
		z-index: 100;
		top: 0;
		left: 0;
		cursor: pointer;
		box-shadow: inset 0 8px #2d383f, inset 0 16px #fff, inset 0 24px #2d383f, inset 0 32px #fff, inset 0 40px #2d383f, inset 0 48px #fff, inset 0 56px #2d383f;
		opacity: 0;
		border: 20px solid #fff;

		@include transition(opacity 0.5s);
	}

	nav {
		height: 100%;
	}

	nav a {
		display: inline-block;
		text-transform: uppercase;
		letter-spacing: 1px;
		font-weight: 700;
	    padding: 0.2em 0.4em;
	    margin: 0 0.4em 0;
	    font-size: 0.8em;
	    cursor: pointer;
	    color: #e74c3c;
	    outline: none;
	    text-decoration: none;
	}

	nav a:hover {
		color: #bc3c2f;
	}

	nav a:last-child {
	    margin-right: 0;
	}
}

/* EFFECTS */

@media #{$topbar-media-query} {
	#will-header {
		background: transparent;
		@include single-transition(background-color, .3s);
	}
	
	#will-header.opaque {
		background-color: rgba($topbar-bg-color, .9);
		@include single-transition(background-color, .5s, .2s);
	}

	// the search magnifier as nav item
	#magnify {
		height: 18px;
		width: 18px;
	}
}

@media #{$small-only} {
	#will-header nav {
		background-color: $topbar-bg-color;
	}
}

@media #{$large-up} {
	// when on large screens, make top bar taller then animate to shorter when scrolling
	
	#will-header h1,
	#will-header nav {
		height: $topbar-height*2;
		line-height: $topbar-height*2;
		@include single-transition(all, .3s);
	}
	#will-header nav {
		ul li > a {
			font-size: $topbar-link-font-size*1.2;
			line-height: $topbar-height*2;
			@include single-transition(all, .3s);
		}
	}
	
	// make sure the top padding of the first section is also increased
	.sticky + main section:first-of-type {
		padding-top: $topbar-height*3;
	}
	
	#magnify {
		height: 24px;
		width: 24px;
		@include single-transition(all, .3s);
	}
	
	#will-logo-svg {
		width: 118px;
		height: 39px;
		@include single-transition(all, .3s);
	}
	
	.opaque {
		#will-header h1,
		#will-header nav {
			height: $topbar-height;
			line-height: $topbar-height;
			@include single-transition(all, .5s, .2s);
		}
		#will-header nav {
			ul li > a {
				font-size: $topbar-link-font-size;
				line-height: $topbar-height;
				@include single-transition(all, .5s, .2s);
			}
		}
		
		#magnify {
			height: 18px;
			width: 18px;
			@include single-transition(all, .5s, .2s);
		}
		
		#will-logo-svg {
			width: 98px;
			height: 32px;
			@include single-transition(all, .5s, .2s);
		}
	}
}
