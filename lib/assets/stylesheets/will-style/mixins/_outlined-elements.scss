//
// Aniamting Outlined Elements
//

@mixin outlined-input($light: false) {
	$bg-color: $will-dark-gray;
	$fg-color: $will-white;

	@if $light == true {
		$bg-color: $will-white;
		$fg-color: $will-dark-gray;
	}

	$animation-time: 0.2s;

	position: relative;
	overflow: visible;

	background-color: transparent;
	transition: background-color $animation-time / 2 ease-in-out;

	border: none;

	input,
	textarea {
		transition: color $animation-time / 2 ease-in-out;
		color: $bg-color;

		outline: none;

		background: none;
		border: none;
		width: 100%;
	}

	&:before,
	&:after {
		content: "";

		margin-top: 0;

		position: absolute;

		top: -2px;
		bottom: -2px;
		left: -2px;
		right: -2px;

		z-index: -1;

		height: auto;

		transition-timing-function: linear;

		background-image: 	linear-gradient(to bottom, $bg-color, $bg-color),
							linear-gradient(to bottom, $bg-color, $bg-color);

		background-repeat: no-repeat;

		background-size: 100% 2px,
						 2px 100%;

		transform: scaleX(0);
	}

	&.disabled {
		&:before,
		&:after {
			display: none;
		}
	}

	&:before {
		background-position: center bottom,
							 right bottom;

		transform-origin: left bottom;

		top: 100%;

		transition: transform $animation-time / 2 $animation-time / 4 ease-in-out,
					top $animation-time / 4 ease-in-out;
	}

	&:after {
		background-position: center top,
							 left top;

		transform-origin: right bottom;

		bottom: 100%;

		transition: transform $animation-time / 2 $animation-time / 4 ease-in-out,
					bottom $animation-time / 4 ease-in-out;
	}

	&:not([disabled]) {
		&:hover {
			&:before {
				transform: scaleX(1);

				transition: transform $animation-time ease-in-out,
							top $animation-time / 2 $animation-time ease-in-out;
			}
		}

		&.focus {
			background-color: $bg-color;
			transition: background-color $animation-time / 2 $animation-time * 3 ease-in-out;

			input,
			textarea {
				color: $fg-color;
				transition: color $animation-time $animation-time * 3 ease-in-out;
			}

			&:before {
				transform: scaleX(1);
				top: -2px;

				transition: transform $animation-time ease-in-out,
							top $animation-time / 2 $animation-time ease-in-out;
			}

			&:after {
				transform: scaleX(1);
				bottom: -2px;

				transition: transform $animation-time $animation-time + $animation-time / 2 ease-in-out,
							bottom $animation-time / 2 $animation-time * 2 + $animation-time / 2 ease-in-out;
			}
		}
	}
}

//
// Animated Links
//

@mixin underlined-element($position: 'bottom', $height: 2px) {
	position: relative;

	@if $position == 'bottom' {
		padding-bottom: $height * 2;
		padding-top: inherit;
	} @else {
		padding-top: $height * 2;
		padding-bottom: inherit;
	}

	&:before {
		content: "";

		position: absolute;

		@if $position == 'bottom' {
			bottom: 0;
			top: auto;
		} @else {
			top: 0 ;
			bottom: auto;
		}

		left: 0;
		right: 0;

		height: $height;

		background-color: $primary;
		background-image: linear-gradient(to right, $primary-lighter, $primary);
	}
}
