//
// Aniamting Outlined Elements
//

@mixin outlined-input($light: false) {
	$bg-color: $will-dark-gray;
	$fg-color: $will-white;

	@if $light == true {
		$bg-color: $will-white;
		$fg-color: $will-dark-gray;
	}

	$animation-time: 0.2s;

	position: relative;
	overflow: visible;

	border: none;

	input,
	textarea {
		transition: color $animation-time / 2 ease-in-out;
		color: $bg-color;

		outline: none;

		background: none;
		border: none;
		width: 100%;
	}

	// Background
	&:before {
		content: "";
		position: absolute;

		top: 0;
		bottom: 0;
		left: 0;
		right: 0;

		z-index: -1;

		background-color: $bg-color;

		opacity: 0;
		transition: opacity $animation-time / 2 ease-in-out;
	}

	// Underline bottom
	&:after {
		content: "";

		margin-top: 0;

		position: absolute;

		left: 0px;
		right: 0px;
		bottom: -2px;

		height: 2px;

		background-color: $bg-color;

		transform: scaleX(0);
		transform-origin: left bottom;

		transition: transform $animation-time / 2 $animation-time / 4 ease-in-out;
	}

	// Underline top

	.label-container {
		transition: transform $animation-time ease-in-out;
	}

	.label-container:after {
		content: "";

		margin-left: 0.5rem;
		margin-top: 0;

		display: inline-block;
		flex-grow: 1;

		height: 2px;

		background-color: $bg-color;

		transform: scaleX(0);
		transform-origin: left bottom;

		transition: transform $animation-time / 2 $animation-time / 4 ease-in-out;
	}

	&.disabled {
		&:before,
		&:after {
			display: none;
		}
	}

	&:not([disabled]) {
		&:hover {
			&:after {
				transform: scaleX(1);

				transition: transform $animation-time ease-in-out,
							top $animation-time / 2 $animation-time ease-in-out;
			}
		}

		&.focus,
		&.entered {
			input,
			textarea {
				color: $fg-color;
				transition: color $animation-time $animation-time * 2 ease-in-out;
			}

			.label-container {
				transform: translateY(-70%);
			}

			&:before {
				opacity: 0.5;
				transition: opacity $animation-time / 2 $animation-time * 2 ease-in-out;
			}

			.label-container:after {
				transform: scaleX(1);

				transition: transform $animation-time $animation-time ease-in-out;
			}

			&:after {
				transform: scaleX(1);

				transition: transform $animation-time ease-in-out;
			}
		}
	}
}

//
// Animated Links
//

@mixin underlined-element($position: 'bottom', $height: 2px) {
	position: relative;

	@if $position == 'bottom' {
		padding-bottom: $height * 2;
		padding-top: inherit;
	} @else {
		padding-top: $height * 2;
		padding-bottom: inherit;
	}

	&:before {
		content: "";

		position: absolute;

		@if $position == 'bottom' {
			bottom: 0;
			top: auto;
		} @else {
			top: 0 ;
			bottom: auto;
		}

		left: 0;
		right: 0;

		height: $height;

		background-color: $primary;
		background-image: linear-gradient(to right, $primary-lighter, $primary);
	}
}
