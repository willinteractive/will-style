@mixin will-patterned-bg($dark: true) {
	@include patterned-background-light;

	position: relative;
	overflow: hidden;

	&:before {
		opacity: 0.1;
	}

	&:after {
		content: "";

		z-index: 0;

		position: absolute;

		display: block;

		top: 0;
		left: 0;
		right: 0;

		height: 200%;
		min-height: 3840px;

		@if $dark == true {
			background-color: $will-bg-darker;
			background-image: asset_url("will-style/patterns/bg-will-arrow-pattern-dark.svg");
		} @else {
			background-image: asset_url("will-style/patterns/bg-will-arrow-pattern-light.svg");
		}

		background-repeat: repeat;
		background-size: 1920px 1920px;

		will-change: transform;

		// @NOTE: Attempting to fix intermittent flickering in Safari
		transform-style: preserve-3d;
		backface-visibility: hidden;
		perspective: 1000;
		font-smoothing: antialiased;

		animation: animate-will-bg-pattern 124s 0.1s linear infinite;
	}
}

@keyframes animate-will-bg-pattern {
	0% {
		transform: translate3d(0, 0, 0);
	}

	100% {
		transform: translate3d(0, -1920px, 0);
	}
}
