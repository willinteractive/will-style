@mixin will-patterned-bg($dark: true) {
	position: relative;
	overflow: hidden;

	@if $dark == true {
		background-color: $will-bg-darkest;
	} @else {
		background-color: $will-white;
	}

	&:before {
		content: "";

		position: absolute;

		display: block;

		top: 0;
		left: 0;
		right: 0;

		height: 200%;
		min-height: 3840px;

		@if $dark == true {
			background-color: $will-bg-darker;
			background-image: asset_url("will-style/patterns/bg-will-arrow-pattern-dark.svg");
		} @else {
			background-color: $will-bg-light;
			background-image: asset_url("will-style/patterns/bg-will-arrow-pattern-light.svg");
		}

		background-repeat: repeat;
		background-size: 1920px 1920px;

		will-change: transform;

		animation: animate-will-bg-pattern 158s linear infinite;
	}
}

@keyframes animate-will-bg-pattern {
	0% {
		transform: translate3d(0, 0, 0);
	}

	99.9% {
		transform: translate3d(0, -1920px, 0);
	}

	// @NOTE: Attempting to fix intermittent flickering in Safari
	// 		  by forcing a reset of the animation before it finishes to ensure proper placement.
	100% {
		transform: translate3d(0, 0, 0);
	}
}
